

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 Generated by Apache Maven Doxia
 Rendered using Reflow Maven Skin 1.5.0 (http://devacfr.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">
          
        <head>
    <meta charset="UTF-8" />
    <title>Apache PLC4X® - Using JQAssistant</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
      <meta http-equiv="content-language" content="en" />
                                                                <link href="../css/bootstrap.min.css" rel="stylesheet" />
                <link href="../css/docs.css" rel="stylesheet" />
    <link href="../css/reflow-skin.css" rel="stylesheet" />

    <link rel="stylesheet" href="../js/styles/default.min.css" />

    <link href="../css/lightbox.css" rel="stylesheet" />
    <link href="../css/site.css" rel="stylesheet" />
    <link href="../css/print.css" rel="stylesheet" media="print" />
<script>
          document.addEventListener("DOMContentLoaded", function(event) {
            /* Add an image for promoting Apache events below the right banner */
            $("#bannerRight").append('<p id="apacheEvents"><a href="//www.apache.org/events/current-event.html"><img src="//www.apache.org/events/current-event-234x60.png"/></a></p>');
            /* Append the trademarks info to the copyright section */
            $(".copyright").append('<p>Apache PLC4X, PLC4X, Apache, the Apache feather logo, and the Apache PLC4X project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries. All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p>');
          });
        </script>
        </head> <!-- end : head -->
    <body class="page-developers-jqassistant project-plc4x-parent">

    <div id="m-top-navbar" class="navbar  navbar-default navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#top-navbar-collapse-1" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                        <a class="navbar-brand" href="..">Apache PLC4X</a>
        </div> <!-- .navbar-header -->
        <div class="collapse navbar-collapse" id="top-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Users <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ><a  href="../users/download.html"  title="Download" >Download</a></li>
                    <li ><a  href="../users/gettingstarted.html"  title="Getting Started" >Getting Started</a></li>
                    <li ><a  href="../users/testing.html"  title="PLC4X without a PLC and Unit Testing" >PLC4X without a PLC and Unit Testing</a></li>
                    <li ><a  href="../users/opm.html"  title="Object PLC Mapping (OPM)" >Object PLC Mapping (OPM)</a></li>
                    <li ><a  href="../users/industry40.html"  title="Industry 4.0 with Apache" >Industry 4.0 with Apache</a></li>
                    <li ><a  href="../users/security.html"  title="Security" >Security</a></li>
            </ul>
        </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developers <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ><a  href="issues.html"  title="Bug & Issue Tracker" >Bug & Issue Tracker</a></li>
                    <li ><a  href="building.html"  title="Building PLC4X" >Building PLC4X</a></li>
                    <li ><a  href="sonar.html"  title="Code Analysis" >Code Analysis</a></li>
                    <li class="dropdown-submenu ">
<a  href="code-gen/index.html"  title="Code Generation" >Code Generation</a>                    <ul class="dropdown-menu">
                        <li ><a  href="code-gen/protocol/mspec.html"  title="Protocol: MSpec Format" >Protocol: MSpec Format</a></li>
                        <li ><a  href="code-gen/language/freemarker.html"  title="Language: Apache Freemarker" >Language: Apache Freemarker</a></li>
                        <li ><a  href="code-gen/protocol/df1.html"  title="Example: DF1 MSpec" >Example: DF1 MSpec</a></li>
                    </ul>
                </li>
                    <li ><a  href="ci.html"  title="Continuous Integration" >Continuous Integration</a></li>
                    <li ><a  href="contributing.html"  title="Contributing" >Contributing</a></li>
                    <li ><a  href="decisions.html"  title="Decision Making" >Decision Making</a></li>
                    <li ><a  href="maturity.html"  title="Maturity" >Maturity</a></li>
                    <li ><a  href="preparing.html"  title="Preparing your Computer" >Preparing your Computer</a></li>
                    <li ><a  href="release.html"  title="Releasing" >Releasing</a></li>
                    <li ><a  href="release-build-tools.html"  title="Releasing Build-Tools" >Releasing Build-Tools</a></li>
                    <li ><a  href="team.html"  title="Team" >Team</a></li>
                    <li ><a  href="vm.html"  title="VM Access" >VM Access</a></li>
                    <li ><a  href="vpn.html"  title="VPN Access" >VPN Access</a></li>
                    <li ><a  href="website.html"  title="Website" >Website</a></li>
                    <li ><a  href="wiki.html"  title="Wiki" >Wiki</a></li>
            </ul>
        </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Protocols <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ><a  href="../protocols/features.html"  title="Features" >Features</a></li>
                    <li ><a  href="../protocols/ab-eth/index.html"  title="AB-Ethernet" >AB-Ethernet</a></li>
                    <li ><a  href="../protocols/ads/index.html"  title="ADS" >ADS</a></li>
                    <li ><a  href="../protocols/delta-v/index.html"  title="DeltaV" >DeltaV</a></li>
                    <li ><a  href="../protocols/ethernet-ip/index.html"  title="EtherNet/IP" >EtherNet/IP</a></li>
                    <li ><a  href="../protocols/modbus/index.html"  title="Modbus" >Modbus</a></li>
                    <li ><a  href="../protocols/opc-ua/index.html"  title="OPC-UA" >OPC-UA</a></li>
                    <li ><a  href="../protocols/s7/index.html"  title="S7" >S7</a></li>
            </ul>
        </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li class="dropdown-submenu ">
<a  href="../project-info.html"  title="Project Information" >Project Information</a>                    <ul class="dropdown-menu">
                        <li ><a  href="../dependency-convergence.html"  title="Dependency Convergence" >Dependency Convergence</a></li>
                        <li ><a  href="../dependency-info.html"  title="Dependency Information" >Dependency Information</a></li>
                        <li ><a  href="../dependency-management.html"  title="Dependency Management" >Dependency Management</a></li>
                        <li ><a  href="../distribution-management.html"  title="Distribution Management" >Distribution Management</a></li>
                        <li ><a  href="../index.html"  title="About" >About</a></li>
                        <li ><a  href="../issue-management.html"  title="Issue Management" >Issue Management</a></li>
                        <li ><a  href="../licenses.html"  title="Licenses" >Licenses</a></li>
                        <li ><a  href="../mailing-lists.html"  title="Mailing Lists" >Mailing Lists</a></li>
                        <li ><a  href="../modules.html"  title="Project Modules" >Project Modules</a></li>
                        <li ><a  href="../plugin-management.html"  title="Plugin Management" >Plugin Management</a></li>
                        <li ><a  href="../plugins.html"  title="Plugins" >Plugins</a></li>
                        <li ><a  href="../scm.html"  title="Source Code Management" >Source Code Management</a></li>
                        <li ><a  href="../summary.html"  title="Summary" >Summary</a></li>
                    </ul>
                </li>
            </ul>
        </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Apache <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ><a  href="http://www.apache.org"  title="Apache Software Foundation"  class="externalLink" >Apache Software Foundation</a></li>
                    <li ><a  href="https://www.apache.org/foundation/how-it-works.html"  title="How Apache Works"  class="externalLink" >How Apache Works</a></li>
                    <li ><a  href="http://www.apache.org/licenses"  title="License"  class="externalLink" >License</a></li>
                    <li ><a  href="http://www.apache.org/foundation/sponsorship.html"  title="Sponsoring Apache"  class="externalLink" >Sponsoring Apache</a></li>
                    <li ><a  href="http://www.apache.org/foundation/thanks.html"  title="Thanks"  class="externalLink" >Thanks</a></li>
            </ul>
        </li>
            </ul>
        </div><!--/.nav-collapse -->
      </div> <!--/.container -->
    </div> <!--/.navbar -->
  <div class="container">
  <!-- Masthead -->
  <!-- ================================================== -->  <div class="header container-fluid">
  <div class="jumbotron subhead">
    <div class="row" id="banner">
      <div class="col-md-12">
        <div class="pull-left">
                                      <a href="https://plc4x.apache.org/" id="bannerLeft">
                    <img src="https://plc4x.apache.org/images/apache_plc4x_logo.png"
                 alt='"'Apache PLC4X'"'
 />            </a>
                    <p class="lead">The industrial IoT adapter</p>
        </div>
        <div class="pull-right">
                                      <a href="https://www.apache.org/" id="bannerRight">
                    <img src="https://plc4x.apache.org/images/apache_logo.png"
                 alt='"'Apache Software Foundation'"'
 />            </a>
        </div>
      </div>
    </div>
  </div>
    <hr class="toc-separator" />
    <div id="toc-bar" class="navbar navbar-default">
      <div id="toc-scroll-target" class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#toc-nav-collapse" aria-expanded="false">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
            </div> <!-- .navbar-header -->
        <div class="collapse navbar-collapse" id="toc-nav-collapse">
          <ul id="toc" class="nav navbar-nav">
                                                            <li class="toplevel"><a href="#_toc_using_jqassistant1" title="Using JQAssistant">Using JQAssistant</a></li>
                        <li class="toplevel"><a href="#_toc_defining_jqassistant_rules1" title="Defining JQAssistant rules">Defining JQAssistant rules</a></li>
                        <li class="toplevel"><a href="#_toc_using_the_web-ui" title="Using the Web-UI">Using the Web-UI</a></li>
                        <li class="toplevel"><a href="#_toc_using_intellij_idea1" title="Using IntelliJ Idea">Using IntelliJ Idea</a></li>
          </ul>
        </div>
      </div> <!-- .container -->
    </div> <!-- end: toc-bar -->
  </div> <!-- end : header -->
  <div class="main-body">

  <div class="row">
    <div class="col-md-12">
      <div class="body-content">
<div class="sect1"> 
 <div class="page-header">
  <h2 id="_toc_using_jqassistant1">Using JQAssistant</h2>
 </div> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>In PLC4X we are using a tool called <code><a href="https://jqassistant.org/">JQAssistant</a></code> for enforcing quality assurance rules.</p> 
  </div> 
  <div class="paragraph"> 
   <p><code>JQAssistant</code> can be thought of as a set of two components:</p> 
  </div> 
  <div class="ulist"> 
   <ul> 
    <li> <p>A set of scanners that analyse a project and stores the gathered information in for of linked graphs in a Neo4j database.</p> </li> 
    <li> <p>An engine that executes defined rules against the graph created during the scan phase of the build</p> </li> 
   </ul> 
  </div> 
  <div class="paragraph"> 
   <p>These rules can produce either reports and tables or they are used to enforce rules.</p> 
  </div> 
  <div class="paragraph"> 
   <p>If a pre-defined rule is violated the failed checks can be marked as <code>warning</code> or <code>error</code> that breaks the build.</p> 
  </div> 
  <div class="paragraph"> 
   <p>In contrast to using the <code>maven-enforcer-plugin</code> doing cross-domain checks is really simple as all information is available in one big graph.</p> 
  </div> 
  <div class="paragraph"> 
   <p>Currently the following scanners are active:</p> 
  </div> 
  <div class="ulist"> 
   <ul> 
    <li> <p>CDI</p> </li> 
    <li> <p>Common</p> </li> 
    <li> <p>Common Test</p> </li> 
    <li> <p>Core Analysis</p> </li> 
    <li> <p>EJB3</p> </li> 
    <li> <p>GraphML</p> </li> 
    <li> <p>JAX-RS</p> </li> 
    <li> <p>JPA 2</p> </li> 
    <li> <p>JSON</p> </li> 
    <li> <p>JUnit</p> </li> 
    <li> <p>Java</p> </li> 
    <li> <p>Java 8</p> </li> 
    <li> <p>Java EE 6</p> </li> 
    <li> <p>Maven 3</p> </li> 
    <li> <p>OSGi</p> </li> 
    <li> <p>RDBMS</p> </li> 
    <li> <p>TestNG</p> </li> 
    <li> <p>Tycho</p> </li> 
    <li> <p>XML</p> </li> 
    <li> <p>YAML</p> </li> 
   </ul> 
  </div> 
  <div class="paragraph"> 
   <p>These rules that are automatically checked during the build are defined in <code>src/jjqassistant</code>. If defined in a reactor project, the rules apply to all modules of that (sub-)reactor. So if they are defined in the root module of the project, it applies to all modules.</p> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_defining_jqassistant_rules1">Defining JQAssistant rules</h3> 
   <div class="paragraph"> 
    <p>TODO: Finish this "little detail" …​</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_using_the_web-ui">Using the Web-UI</h3> 
   <div class="paragraph"> 
    <p>The scan and analysis is automatically performed during a normal Maven build. In order to do ad-hoc queries against the project or develop new rules, the Web-UI is very helpful.</p> 
   </div> 
   <div class="paragraph"> 
    <p>To start the Web-UI, all you need to do, is run the following command (after a build):</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>mvn jqassistant:server</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>This will start a Neo4j server with web console.</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>[INFO] --- jqassistant-maven-plugin:1.3.0:server (default-cli) @ plclogger ---
[INFO] Connecting to store at 'file:/Users/christofer.dutz/Projects/Apache/PLC4X/target/jqassistant/store/'
2018-04-05 19:11:14.369+0200 INFO  [o.n.s.CommunityNeoServer] No SSL certificate found, generating a self-signed certificate..
2018-04-05 19:11:14.683+0200 INFO  [o.n.s.CommunityNeoServer] Starting HTTP on port 7474 (8 threads available)
2018-04-05 19:11:14.859+0200 INFO  [o.n.s.w.Jetty9WebServer] Mounting static content at /webadmin
2018-04-05 19:11:14.892+0200 INFO  [o.n.s.w.Jetty9WebServer] Mounting static content at /browser
Apr 05, 2018 7:11:15 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFORMATION: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
Apr 05, 2018 7:11:15 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFORMATION: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
Apr 05, 2018 7:11:15 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFORMATION: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2018-04-05 19:11:15.396+0200 INFO  [o.n.s.CommunityNeoServer] Remote interface ready and available at http://localhost:7474/
[INFO] Running server for module org.apache.plc4x:plc4x-parent:0.0.1-SNAPSHOT
[INFO] Press &lt;Enter&gt; to finish.</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>So when visiting the anounced url with a browser, you can use the pretty useful neo4j web console.</p> 
   </div> 
   <div class="imageblock"> 
    <div class="content"> 
     <img src="../images/neo4j-web-console.png" alt="Neo4j Web Console" class="img-responsive"> 
    </div> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_using_intellij_idea1">Using IntelliJ Idea</h3> 
   <div class="paragraph"> 
    <p>IntelliJ comes with some interesting Neo4J support. Unfortunately this only supports <code>Neo4j 3</code>.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Unfortunately the process of enabling this toolset is a little less comfortable than the Web-UI version.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Even if JQAssistant uses <code>Neo4j 2</code> per default, we can force it to use <code>Neo4j 3</code> by providing an additional commandline parameter.</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>mvn -Djqassistant.neo4jVersion=3 clean install</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>JQAssistant uses Neo4j 3 and the resulting data directory is then in Neo4j 3 format.</p> 
   </div> 
   <div class="paragraph"> 
    <p>In this case the server has to be started with the same parameter:</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>mvn -Djqassistant.neo4jVersion=3 jqassistant:server</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>As soon as the server is started, we can connect from the IntelliJ plugin.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Note: The connection settings also contain a username and a password.</p> 
   </div> 
   <div class="imageblock"> 
    <div class="content"> 
     <img src="../images/neo4j-intellij-settings.png" alt="neo4j intellij settings" width="800" class="img-responsive"> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>It appears that this can simply be left empty of can contain random values.</p> 
   </div> 
   <div class="paragraph"> 
    <p>After creating the connection, the <code>Graph Neo4j</code> view should list the new connection.</p> 
   </div> 
   <div class="imageblock"> 
    <div class="content"> 
     <img src="../images/neo4j-intellij-database-connections-view.png" alt="neo4j intellij database connections view" width="300" class="img-responsive"> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>You can now use this to perform queries</p> 
   </div> 
   <div class="imageblock"> 
    <div class="content"> 
     <img src="../images/neo4j-intellij-query-results.png" alt="neo4j intellij query results" width="800" class="img-responsive"> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>      </div>
    </div>
  </div> <!-- /row -->
  </div>
    </div> <!-- end : row -->
</div> <!-- /container -->
  <!-- Footer
  ================================================== -->
  <footer class="well">
    <div class="container">
      <div class="row">
            <div class="col-md-3 bottom-nav">

                <ul class="nav nav-list">
                    <li class="nav-header">Reports</li>
                    <li ><a  href="../project-info.html"  title="Project Information" >Project Information <i class="glyphicon glyphicon-chevron-right"></i></a></li>
                </ul>

            </div>
            <div class="col-md-3 bottom-nav">

                <ul class="nav nav-list">
                    <li class="nav-header">Apache</li>
                    <li ><a  href="http://www.apache.org"  title="Apache Software Foundation"  class="externalLink" >Apache Software Foundation</a></li>
                    <li ><a  href="https://www.apache.org/foundation/how-it-works.html"  title="How Apache Works"  class="externalLink" >How Apache Works</a></li>
                    <li ><a  href="http://www.apache.org/licenses"  title="License"  class="externalLink" >License</a></li>
                    <li ><a  href="http://www.apache.org/foundation/sponsorship.html"  title="Sponsoring Apache"  class="externalLink" >Sponsoring Apache</a></li>
                    <li ><a  href="http://www.apache.org/foundation/thanks.html"  title="Thanks"  class="externalLink" >Thanks</a></li>
                </ul>

            </div>
            <div class="col-md-3 bottom-nav">

                <ul class="nav nav-list">
                </ul>

            </div>
            <div class="col-md-3 bottom-nav">

                <ul class="nav nav-list">
                    <li class="nav-header">Protocols</li>
                    <li ><a  href="../protocols/features.html"  title="Features" >Features</a></li>
                    <li ><a  href="../protocols/ab-eth/index.html"  title="AB-Ethernet" >AB-Ethernet</a></li>
                    <li ><a  href="../protocols/ads/index.html"  title="ADS" >ADS</a></li>
                    <li ><a  href="../protocols/delta-v/index.html"  title="DeltaV" >DeltaV</a></li>
                    <li ><a  href="../protocols/ethernet-ip/index.html"  title="EtherNet/IP" >EtherNet/IP</a></li>
                    <li ><a  href="../protocols/modbus/index.html"  title="Modbus" >Modbus</a></li>
                    <li ><a  href="../protocols/opc-ua/index.html"  title="OPC-UA" >OPC-UA</a></li>
                    <li ><a  href="../protocols/s7/index.html"  title="S7" >S7</a></li>
                </ul>

            </div>
      </div>
    </div>
  </footer>
  <div class="container subfooter">
    <div class="row">
      <div class="col-md-12">
        <p class="pull-right"><a id="m-scroll-top" href="#">Back to top</a></p>
        <p class="copyright">Copyright &copy;2017-2020                 <a href="https://www.apache.org/">The Apache Software Foundation</a>
. All Rights Reserved.</p>
        <p><a href="https://github.com/devacfr/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://devacfr.github.io" target="_blank" title="devacfr">devacfr</a>.</p>

      </div>
    </div>
  </div>
  <!-- Le javascript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
    <script src="../js/jquery.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>

  <script src="../js/lightbox.min.js"></script>

  <script src="../js/reflow-scroll.js"></script>
	<script src="../js/highlight.min.js"></script>
  <script src="../js/reflow-skin.js"></script>
    <script src="../js/anchor.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function(event) {
            anchors.options = {
              placement: 'left',
            };
            anchors.add('h1,h2, h3, h4, h5, h6');
        });
    </script>

  </body>
</html>